<div class="container">
  <div class="card card-container">
    <form name="form" class="form-signup" ng-submit="register(form)" novalidate>
      <div ng-class="{'has-warning': form.email.$dirty, 'has-success': form.email.$valid && form.email.$dirty && !form.email.$error.mongoose, 'has-error': form.email.$invalid && form.email.$dirty || form.email.$error.mongoose}">
        <input placeholder="Your Email" type="email" class="form-control"
               name="email" ng-model="user.email" required autofocus on-focus mongoose-error>
        <p ng-show="form.email.$error.email && !form.email.$focused">Not a valid email.</p>
        <p ng-show="form.email.$error.mongoose">{{ errors.email }}</p>
      </div>
      <div ng-class="{'has-warning': form.username.$dirty, 'has-success': form.username.$valid && form.username.$dirty && !form.username.$error.mongoose, 'has-error': form.username.$invalid && form.username.$dirty || form.username.$error.mongoose}">
        <input placeholder="Username" type="text" class="form-control"
               name="username" ng-model="user.username" required unique-username mongoose-error>
        <p ng-show="form.username.$error.unique && form.username">That username is already taken.</p>
      </div>
      <div ng-class="{'has-warning': form.password.$dirty, 'has-success': form.password.$valid && form.password.$dirty && !form.password.$error.mongoose, 'has-error': form.password.$invalid && form.password.$dirty || form.password.$error.mongoose}">
        <input placeholder="Password" type="password" name="password" class="form-control"
               ng-model="user.password" ng-minlength="5" required mongoose-error>
        <p ng-show="(form.password.$error.minlength || form.password.$invalid) && form.password.$dirty && !form.password.$error.required">Password must be at least 5 characters.</p>
      </div>
      <p>{{ errorMessage }}</p>
      <button type="submit" class="btn btn-lg btn-primary btn-block btn-signup" ng-disabled="form.$invalid">Sign up</button>
      <a href="#/login" role="button">Sign in</a>
    </form>
  </div>
</div>
